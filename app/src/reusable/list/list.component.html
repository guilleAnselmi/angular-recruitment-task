<div class="reusable-list">
  <div class="reusable-list__header">
    <ng-container
      *ngTemplateOutlet="
        header || defaultListHeader;
        context: { $implicit: items }
      "
    ></ng-container>
    <ng-template #defaultListHeader>
      <div class="reusable-list__title">{{ title }}</div>
    </ng-template>
    <ng-container
      *ngTemplateOutlet="
        searchBar || defaultSearch;
        context: { $implicit: items }
      "
    ></ng-container>

    <ng-template #defaultSearch>
      <app-search
        *ngIf="filterable"
        class="reusable-list__search"
        [placeholder]="placeholder"
        (search)="onSearch($event)"
      ></app-search>
    </ng-template>
  </div>
  <div class="reusable-list__content">
    <div class="reussable-list__item" *ngFor="let item of items">
      <ng-container
        *ngTemplateOutlet="
          listItem || defaultListItemTemplate;
          context: { $implicit: item }
        "
      ></ng-container>
    </div>
  </div>
  <div class="reusable-list__footer">
    <ng-container
      *ngTemplateOutlet="
        footer || defaultListFooter;
        context: { $implicit: items }
      "
    ></ng-container>
    <ng-template #defaultListFooter>
      <!-- TODO maybe create a reusable button -->
      <button class="reusable-list__button">Continue</button>
    </ng-template>
  </div>
</div>

<ng-template #defaultListItemTemplate let-item>
  <app-list-item>
    {{ item[labelValue] }}
  </app-list-item>
</ng-template>
